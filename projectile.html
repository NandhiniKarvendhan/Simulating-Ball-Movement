<html>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <body>
    <script src="ball.js"></script>
    <div class="container">
      <svg width="100%" height="100%">
        <rect
          x="0"
          y="0"
          width="500"
          height="500"
          fill="yellow"
          stroke="orange"
          stroke-width="10"
        />
      </svg>
    </div>
    <script>
      const balls = [];
      const x = []; // position
      const y = [];
      const size = 80;

      let velocity_x = [];
      let velocity_y = [];
      let gravity = 1;

      function update() {
        for (let i = 0; i < balls.length; i++) {
          x[i] += velocity_x[i];
          velocity_y[i] += gravity;
          y[i] += velocity_y[i];
          checkWalls(i);
          balls[i].style.left = x[i];
          balls[i].style.top = y[i];
        }
        setTimeout(update, 100);
      }

      function checkWalls(i) {
        if (x[i] > 400 || x[i] < 10) {
          velocity_x[i] = -velocity_x[i];
        }
        if (y[i] > 425 || y[i] < 5) {
          velocity_y[i] = -velocity_y[i];
          y[i] = 400;
        }
      }
      function getRandom(scale) {
        return Math.random() * scale;
      }
      function factory(total) {
        for (let i = 0; i < total; i++) {
          let velx = Math.floor(getRandom(20));
          let vely = Math.floor(getRandom(20));
          makeBall(getRandom(400), getRandom(400), "pink", velx, vely, 0);
        }
      }
    </script>
  </body>
</html>
